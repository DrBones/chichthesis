% ***********************************************************
% ******************* PHYSICS HEADER ************************
% ***********************************************************
%\documentclass[11pt]{article} 
% \documentclass[12pt,twoside,a4paper]{article}
% \documentclass[12pt,twoside,a4paper]{scrbook}
% \documentclass[DIV=14,BCOR=8mm,12pt,twoside,a4paper]{scrbook}
\documentclass[12pt,twoside,a4paper]{scrbook}
% \setkomafont{sectioning}{\normalcolor\bfseries}
%%%%%%%%%%%%%% PACKAGE INCLUDES %%%%%%%%%%%%%%%
% \usepackage{scrhack}
\usepackage[utf8]{inputenc} %allows input of utf8 characters
% \usepackage[british]{babel}
\usepackage[T1]{fontenc} %more complete but lower quality than ComMod fontpacke
\usepackage{floatrow}
% Table float box with bottom caption, box width adjusted to content
\newfloatcommand{capbtabbox}{table}[][204pt]
\newfloatcommand{capbfigbox}{figure}[][\FBwidth]
% \usepackage{ae,aecompl}
\usepackage[tbtags]{mathtools}
\usepackage[export]{adjustbox}
\usepackage[
backend=biber, 
style=authoryear,    % Zitierstil
isbn=false,                % ISBN nicht anzeigen, gleiches geht mit nahezu allen anderen Feldern
pagetracker=true,          % ebd. bei wiederholten Angaben (false=ausgeschaltet, page=Seite, spread=Doppelseite, true=automatisch)
maxbibnames=50,            % maximale Namen, die im Literaturverzeichnis angezeigt werden (ich wollte alle)
maxcitenames=3,            % maximale Namen, die im Text angezeigt werden, ab 4 wird u.a. nach den ersten Autor angezeigt
autocite=inline,           % regelt Aussehen für \autocite (inline=\parancite)
block=space,               % kleiner horizontaler Platz zwischen den Feldern
backref=true,              % Seiten anzeigen, auf denen die Referenz vorkommt
backrefstyle=three+,       % fasst Seiten zusammen, z.B. S. 2f, 6ff, 7-10
date=short,                % Datumsformat
]{biblatex}
\addbibresource{egodepletion.bib}
\renewcommand*{\nameyeardelim}{\addcomma\addspace}
\let\citep\parencite
\let\res\emph
\setlength{\bibitemsep}{1em}     % Abstand zwischen den Literaturangaben
\setlength{\bibhang}{2em} 
%\usepackage{amsmath} % AMS Math Package
% \usepackage{amsthm} % Theorem Formatting
% \usepackage{amssymb}	% Math symbols such as \mathbb
\usepackage{graphicx} % Allows for eps images
% \usepackage{multirow}
% \usepackage{multicol} % Allows for multiple columns
\usepackage{xcolor} % well, supplies colors
\definecolor{likinggrey}{HTML}{B4B4B4}
\definecolor{riskdarkgrey}{HTML}{616161}
\definecolor{likingcyan}{HTML}{94CEDE}
\definecolor{riskred}{HTML}{C1504D}
\definecolor{depletionred}{HTML}{A84A44}
\definecolor{nondepletiongreen}{HTML}{89A24C}
\usepackage{todonotes}
\usepackage{booktabs}
\usepackage{url}
\usepackage{grffile}
\usepackage{chngcntr}
% \usepackage{dsfont}%supplies 1 and lowercase k in blackboard bold
\usepackage{tikz}
% \newcommand{\axes}{\draw[style={<->,thin}] (-1,0.65) node[left,align=center] {$x$} -- (0,0) --  (1,0.65) node[right] {$y$};}
% \newcommand{\curveoutline}{
% \draw[lightgray] (-0.85,6) .. controls (-0.9,1.75) and (0.7,1.7) .. (1.23,1.35);
% \draw[lightgray] (0.18,6) .. controls(0.25,3.3) and (0.58,2.8) .. (1.23,2.35);}
% \newcommand{\curveoutlinedark}{
% \draw[lightgray] (-0.8,6) .. controls (-0.9,1.75) and (0.7,1.7) .. (1.23,1.35);
% \draw[lightgray] (0.18,6) .. controls(0.25,3.3) and (0.58,2.8) .. (1.23,2.35);}
% \usetikzlibrary{matrix,decorations.pathreplacing,shapes.multipart,calc}
\usetikzlibrary{shapes,backgrounds,calc}
% \setlength{\floatsep}{2pt plus 1.0pt minus 2.0pt}
\makeatletter
\tikzset{circle split part fill/.style  args={#1,#2}{%
 alias=tmp@name, % Jake's idea !!
  postaction={%
    insert path={
     \pgfextra{% 
     \pgfpointdiff{\pgfpointanchor{\pgf@node@name}{center}}%
                  {\pgfpointanchor{\pgf@node@name}{east}}%            
     \pgfmathsetmacro\insiderad{\pgf@x}
      %\begin{scope}[on background layer]
      %\fill[#1] (\pgf@node@name.base) ([xshift=-\pgflinewidth]\pgf@node@name.east) arc
      %                    (0:180:\insiderad-0.5\pgflinewidth)--cycle;
      %\fill[#2] (\pgf@node@name.base) ([xshift=\pgflinewidth]\pgf@node@name.west)  arc
      %                     (180:360:\insiderad-0.5\pgflinewidth)--cycle;  
      \fill[#1] (\pgf@node@name.base) ([xshift=-\pgflinewidth]\pgf@node@name.east) arc
                          (0:180:\insiderad-\pgflinewidth)--cycle;
      \fill[#2] (\pgf@node@name.base) ([xshift=\pgflinewidth]\pgf@node@name.west)  arc
                           (180:360:\insiderad-\pgflinewidth)--cycle;            %  \end{scope}   
         }}}}}  
 \makeatother  
\usepackage[section]{placeins} %supplies \FloatBarrier to stop floats
\usepackage{setspace} %Zeilenabstand
\usepackage[pagestyles,raggedright]{titlesec}
\usepackage{float}
%--------------------------------------
% Loosen latex float to text ratio and other float related things. Explanation
%on pages 199–200, section C.9 of the LaTeX manual.
\renewcommand{\topfraction}{.85}
\renewcommand{\bottomfraction}{.7}
\renewcommand{\textfraction}{.15}
\renewcommand{\floatpagefraction}{.66}
\renewcommand{\dbltopfraction}{.66}
\renewcommand{\dblfloatpagefraction}{.66}
\setcounter{topnumber}{9}
\setcounter{bottomnumber}{9}
\setcounter{totalnumber}{20}
\setcounter{dbltopnumber}{9}
%----------------------------------------
% %define custom float
% \floatstyle{plain}
% \newfloat{algo}{thp}{lop}[chapter]
% \floatname{algo}{Algorithm}

% Page setup (titlesec)
\titleformat{\chapter}[hang]
{\normalfont\huge\bfseries}{\thechapter}{20pt}{\Huge}
\titlespacing*{\chapter} {0pt}{50pt}{40pt}[30pt]

\newpagestyle{main}{%
  \headrule
  \sethead[\chaptertitlename~\thechapter\quad\chaptertitle][][]{}{}{\thesection\quad\sectiontitle}
  % \footrule
\renewcommand{\makefootrule}{%
  % \makebox[0pt][l]{\rule[.7\baselineskip]{\linewidth}{0.8pt}}%
  % \color{red}%
  \rule[1.3\baselineskip]{\linewidth}{0.4pt}}
  \setfoot[][\thepage][]{}{\thepage}{}
}
\newpagestyle{bib}{%
  \headrule
  \sethead[\chaptertitle][][]{}{}{\chaptertitle}
  % \footrule
\renewcommand{\makefootrule}{%
  % \makebox[0pt][l]{\rule[.7\baselineskip]{\linewidth}{0.8pt}}%
  % \color{red}%
  \rule[1.3\baselineskip]{\linewidth}{0.4pt}}
  \setfoot[][\thepage][]{}{\thepage}{}
}
\newpagestyle{abstract}{%
  \headrule
  \sethead[\sectiontitle][][]{}{}{\sectiontitle}
  % \footrule
\renewcommand{\makefootrule}{%
  % \makebox[0pt][l]{\rule[.7\baselineskip]{\linewidth}{0.8pt}}%
  % \color{red}%
  \rule[1.3\baselineskip]{\linewidth}{0.4pt}}
  \setfoot[][\thepage][]{}{\thepage}{}
}
% \usepackage{calligra}
\DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}
% \DeclareMathAlphabet{\mathcalligra}{T1}{calligra}{m}{n}
% \DeclareFontShape{T1}{calligra}{m}{n}{<->s*[2.2]callig15}{}
\newenvironment{pzcseries}{\fontfamily{pzc}\selectfont}{}
\newcommand{\textpzc}[1]{{\pzcseries#1}}
\newenvironment{frcseries}{\fontfamily{frc}\selectfont}{}
\newcommand{\textfrc}[1]{{\frcseries#1}}
\newcommand{\mathfrc}[1]{\text{\textfrc{#1}}}
\assignpagestyle{\chapter}{empty} %pages on which chapters start have now {} layout
%\onehalfspacing
% \usepackage{mathptmx}
% \usepackage{bbold}
% \usepackage{bold-extra} % Ugly bitmap fonts, but holds bold glyphs!
% \usepackage{kpfonts} % Pretty complete fontpackage but looks 'different'
% \usepackage[
%     pdftitle={Ego Depletion},    % title
%     pdfauthor={Christian Bürckel},     % author
%     pdfsubject={},   % subject of the document
%     pdfcreator={Christian Bürckel},   % creator of the document
%     pdfproducer={Christian Bürckel}, % producer of the document
%     pdfkeywords={Statistics}, % list of keywords
%     % linktocpage=true,
%     linkcolor=red,          % color of internal links
%     citecolor=green,        % color of links to bibliography
%     filecolor=magenta,      % color of file links
%     urlcolor=cyan           % color of external links
%     % pagebackref=true
%     ]{hyperref}
% \usepackage[all]{hypcap} % shifts the link point to the top of tables or figures so it is visible when clicked
\usepackage{array}
%\usepackage[final]{svninfo}
% \usepackage{tabulary}
% \usepackage{tabularx}
\usepackage{tabu}

\def\arraystretch{1.2}
%\usepackage{ifthen}
%\usepackage[dvips]{graphicx}
\usepackage[margin=10pt,lofdepth,lotdepth]{subfig} 		%enabled the use of subfloats within a float
\usepackage[capitalize]{cleveref}
\crefname{table}{Tab.}{Tabs.}
\crefname{dfn}{Def.}{Defs.}
\crefname{section}{Sec.}{Secs.}
\crefname{algo}{Alg.}{Algs.}
\crefname{equation}{Eqn.}{Eqns.}
\crefformat{equation}{Eqn.~#2#1#3}
\crefrangeformat{equation}{Eqns.~#3#1#4 to~#5#2#6}
\Crefformat{equation}{Equation~#2#1#3}
\Crefrangeformat{equation}{Equations.~#3#1#4 to~#5#2#6}
%\usepackage{textcomp}
%\usepackage{pstricks}
% % Fix latex
% \def\smallskip{\vskip\smallskipamount}
% \def\medskip{\vskip\medskipamount}
% \def\bigskip{\vskip\bigskipamount}
%  
%  % Hand made theorem
%  \newcounter{thm}
%  \renewcommand{\thethm}{\thechapter.\arabic{thm}}
%  \def\claim#1{\par\medskip\noindent\refstepcounter{thm}\hbox{\bf #1 \arabic{thm}.}
%  %\ignorespaces
%  }
%  \def\endclaim{
%  \par\medskip}
%  \newenvironment{thm}{\claim}{\endclaim}
%\usepackage{courier}
% \usepackage[algo2e,algoruled,algochapter]{algorithm2e}
%\usepackage{url}
\usepackage{tikz}
\tikzstyle{every picture}+=[remember picture]
\usetikzlibrary{decorations.pathreplacing,decorations.markings,circuits.ee.IEC}
%\usepackage{paralist}
%\usepackage{xspace}
\usepackage[top=2cm, bottom=2cm, left=3cm, right=2.5cm,includehead, includefoot]{geometry}
% Sets margins and page size
\pagestyle{empty} % Removes page numbers
\makeatletter % Need for anything that contains an @ command 
\renewcommand{\maketitle} % Redefine maketitle to conserve space
{ \begingroup \vskip 10pt \begin{center} \large {\bf \@title}
	\vskip 10pt \large \@author \hskip 20pt \@date \end{center}
  \vskip 10pt \endgroup \setcounter{footnote}{0} }
\makeatother % End of region containing @ commands
\usepackage{enumitem}
%\renewcommand{\labelenumi}{(\alph{enumi})} 		% Use letters for enumerate

% Shortcuts to Named Objects
% Vectors and matrices

% Derivatives: 

%%%%%%%%%%%%%% STYLE %%%%%%%%%%%%%%%
%\geometry{hmargin={1in,1in},vmargin={2.0in,1.5in}}
% \usepackage{fancyhdr}
% \pagestyle{fancy}
% % \renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{\chaptername} \ \thechapter. \ \textbf{#1}}{}}
% % \renewcommand{\sectionmark}[1]{\markright{\textbf{\thesection \ #1}}}
% \fancyhead[RE,LO]{}
% % \fancyhead[RO]{\rightmark}
% % \fancyhead[LE]{\leftmark}
% \fancyfoot{}
% % \fancyfoot[RO,LE]{\thepage}
% \renewcommand{\footrulewidth}{0.4pt}
% % \renewcommand{\headrulewidth}{0.4pt}
% 
% % \fancypagestyle{plain}{%
% % \fancyhf{}
% \fancyfoot[C]{\thepage}
% % \renewcommand{\headrulewidth}{0pt}
% % \renewcommand{\footrulewidth}{0.4pt}}


% configure subfig
%\usepackage[small,bf]{caption}
\usepackage{caption}
\captionsetup[subfloat]{position=top,labelformat=simple,listofformat=subsimple,singlelinecheck=false}
\def\thesubfigure{(\alph{subfigure})} 
%
%% url
%\makeatletter
%\def\url@leostyle{%
%  \@ifundefined{selectfont}{\def\UrlFont{\sf}}{\def\UrlFont{\small\ttfamily}}}
%\makeatother
%\urlstyle{leo}
%
%
\numberwithin{equation}{chapter}
%
%%%%%%%%%%%%%%%% CODE LISTING SETTINGS %%%%%%%%%%%%%%%
% \usepackage{listings}
%
%\lstset{
%frame=tb,
%framesep=5pt,
%tabsize=2,
%basicstyle=\scriptsize\ttfamily,
%showstringspaces=false,
%stringstyle=\color{red},
%commentstyle=\color{gray},
%breaklines=true,
%numbers=left,
%numbersep=5pt
%%numberstyle=\ttfamily,
%%keywordstyle=\color{green},
%%identifierstyle=\color{blue},
%%xleftmargin=5pt,
%%xrightmargin=5pt,
%%aboveskip=\bigskipamount,
%%belowskip=\bigskipamount,
%%rulecolor=\color{Gray},
%%numberstyle=\color{blue},
%}

%\lstdefinelanguage{JavaScript} {
%morekeywords={
%break,const,continue,delete,do,while,export,for,in,function,
%if,else,import,in,instanceOf,label,let,new,return,switch,this,
%throw,try,catch,typeof,var,void,with,yield
%},
%sensitive=false,
%morecomment=[l]{//},
%morecomment=[s]{/*}{*/},
%morestring=[b]",
%morestring=[d]'
%}
%
%% MACROS
%\include{macros}

% ***********************************************************
% ********************** END HEADER *************************
% ***********************************************************

% *****************Pretty Help Lines**************
% use like: \begin{tikzpicture}
%           \draw (-2,-2) to[grid with coordinates] (7,4);
%           \end{tikzpicture} 
\makeatletter
\def\grd@save@target#1{%
  \def\grd@target{#1}}
\def\grd@save@start#1{%
  \def\grd@start{#1}}
\tikzset{
  grid with coordinates/.style={
    to path={%
      \pgfextra{%
        \edef\grd@@target{(\tikztotarget)}%
        \tikz@scan@one@point\grd@save@target\grd@@target\relax
        \edef\grd@@start{(\tikztostart)}%
        \tikz@scan@one@point\grd@save@start\grd@@start\relax
        \draw[minor help lines, opacity=0.5] (\tikztostart) grid (\tikztotarget);
        \draw[major help lines, line width=1pt, opacity=0.5] (\tikztostart) grid (\tikztotarget);
        \grd@start
        \pgfmathsetmacro{\grd@xa}{\the\pgf@x/1cm}
        \pgfmathsetmacro{\grd@ya}{\the\pgf@y/1cm}
        \grd@target
        \pgfmathsetmacro{\grd@xb}{\the\pgf@x/1cm}
        \pgfmathsetmacro{\grd@yb}{\the\pgf@y/1cm}
        \pgfmathsetmacro{\grd@xc}{\grd@xa + \pgfkeysvalueof{/tikz/grid with coordinates/major step}}
        \pgfmathsetmacro{\grd@yc}{\grd@ya + \pgfkeysvalueof{/tikz/grid with coordinates/major step}}
        \foreach \x in {\grd@xa,\grd@xc,...,\grd@xb}
        \node[anchor=north, opacity=0.7] at (\x,\grd@ya) {\pgfmathprintnumber{\x}};
        \foreach \y in {\grd@ya,\grd@yc,...,\grd@yb}
        \node[anchor=east, opacity=0.7] at (\grd@xa,\y) {\pgfmathprintnumber{\y}};
      }
    }
  },
  minor help lines/.style={
    help lines,
    step=\pgfkeysvalueof{/tikz/grid with coordinates/minor step}
  },
  major help lines/.style={
    help lines,
    line width=\pgfkeysvalueof{/tikz/grid with coordinates/major line width},
    step=\pgfkeysvalueof{/tikz/grid with coordinates/major step}
  },
  grid with coordinates/.cd,
  minor step/.initial=.2,
  major step/.initial=1,
  major line width/.initial=2pt,
}
\makeatother
